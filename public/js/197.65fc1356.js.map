{"version":3,"file":"js/197.65fc1356.js","mappings":"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","sources":["webpack://docker-xray/./src/components/HomeIndex.vue","webpack://docker-xray/src/components/HomeIndex.vue","webpack://docker-xray/./src/components/HomeIndex.vue?f84d","webpack://docker-xray/./src/components/HomeIndex.vue?087b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\"},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"运行状态\"}},[_c('div',{staticClass:\"xray_status\"},[_c('span',{class:_vm.xrayStatus ? 'green' : 'gary'},[_vm._v(_vm._s(_vm.xrayStatus ? \"运行中\" : \"未运行\"))])])]),_c('el-form-item',{attrs:{\"label\":\"xray操作\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.stopXray}},[_vm._v(\"关闭\")])],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.startXray}},[_vm._v(\"开启\")])],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.restartXray}},[_vm._v(\"重启\")])],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"当前节点\"}},[_c('div',{staticClass:\"xray_status\"},[_vm._v(_vm._s(_vm.currentnode))])]),_c('el-form-item',{attrs:{\"label\":\"选择节点\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.uuid,attrs:{\"label\":item.name,\"value\":item.uuid}})}),1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":4,\"offset\":16}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateConfig}},[_vm._v(\"确定执行\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"content\">\r\n        <el-form ref=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"运行状态\">\r\n                <div class=\"xray_status\">\r\n                    <span :class=\"xrayStatus ? 'green' : 'gary'\">{{ xrayStatus ? \"运行中\" : \"未运行\" }}</span>\r\n                </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"xray操作\">\r\n                <el-row>\r\n                    <el-col :span=\"4\">\r\n                        <el-button type=\"danger\" @click=\"stopXray\">关闭</el-button>\r\n                    </el-col>\r\n                    <el-col :span=\"4\">\r\n                        <el-button type=\"success\" @click=\"startXray\">开启</el-button>\r\n                    </el-col>\r\n                    <el-col :span=\"4\">\r\n                        <el-button type=\"warning\" @click=\"restartXray\">重启</el-button>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-form-item>\r\n            <el-form-item label=\"当前节点\">\r\n                <div class=\"xray_status\">{{ currentnode }}</div>\r\n            </el-form-item>\r\n            <el-form-item label=\"选择节点\">\r\n                <el-select v-model=\"value\" placeholder=\"请选择\">\r\n                    <el-option v-for=\"item in options\" :key=\"item.uuid\" :label=\"item.name\" :value=\"item.uuid\"> </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-row>\r\n            <el-col :span=\"4\" :offset=\"16\">\r\n                <el-button type=\"primary\" @click=\"updateConfig\">确定执行</el-button>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getNodesList, updateConfig, getXrayStatus, getCurrentNode, stopXray, startXray, restartXray } from \"../api\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            options: [],\r\n            value: \"\",\r\n            xrayStatus: true,\r\n            currentnode: \"\",\r\n        };\r\n    },\r\n    methods: {\r\n        getNodeslist() {\r\n            getNodesList().then((res) => {\r\n                for (let item in res) {\r\n                    this.options = this.options.concat(res[item]);\r\n                }\r\n            });\r\n        },\r\n        updateConfig() {\r\n            updateConfig({\r\n                uuid: this.value,\r\n            })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                })\r\n                .finally(() => {\r\n                    this.getXrayStatus();\r\n                });\r\n        },\r\n        getXrayStatus() {\r\n            getXrayStatus().then((res) => {\r\n                this.xrayStatus = res.xrayStatus;\r\n            });\r\n        },\r\n\r\n        getCurrentNode() {\r\n            getCurrentNode().then((res) => {\r\n                if (res.status == 200) this.currentnode = res.currentName;\r\n                else this.currentnode = \"未获取到\";\r\n            });\r\n        },\r\n\r\n        stopXray() {\r\n            stopXray();\r\n            this.getXrayStatus();\r\n        },\r\n\r\n        startXray() {\r\n            startXray();\r\n            this.getXrayStatus();\r\n        },\r\n\r\n        restartXray() {\r\n            restartXray();\r\n            this.getXrayStatus();\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getNodeslist();\r\n        this.getXrayStatus();\r\n        this.getCurrentNode();\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.green {\r\n    color: green;\r\n    font-weight: 900;\r\n}\r\n.gary {\r\n    color: gary;\r\n    font-weight: 900;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeIndex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeIndex.vue?vue&type=template&id=6fae2d01&scoped=true&\"\nimport script from \"./HomeIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeIndex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomeIndex.vue?vue&type=style&index=0&id=6fae2d01&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fae2d01\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","class","xrayStatus","_v","_s","on","stopXray","startXray","restartXray","currentnode","model","value","callback","$$v","expression","_l","options","item","key","uuid","name","updateConfig","staticRenderFns","data","methods","getNodeslist","getNodesList","then","res","concat","console","log","finally","getXrayStatus","getCurrentNode","status","currentName","mounted","component"],"sourceRoot":""}