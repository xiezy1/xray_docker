"use strict";(self["webpackChunkdocker_xray"]=self["webpackChunkdocker_xray"]||[]).push([[287],{6287:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("el-form",{ref:"form",attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"运行状态"}},[e("div",{staticClass:"xray_status"},[e("span",{class:t.xrayStatus?"green":"gary"},[t._v(t._s(t.xrayStatus?"运行中":"未运行"))])])]),e("el-form-item",{attrs:{label:"xray操作"}},[e("el-row",[e("el-col",{attrs:{span:4}},[e("el-button",{attrs:{type:"danger"},on:{click:t.stopXray}},[t._v("关闭")])],1),e("el-col",{attrs:{span:4}},[e("el-button",{attrs:{type:"success"},on:{click:t.startXray}},[t._v("开启")])],1),e("el-col",{attrs:{span:4}},[e("el-button",{attrs:{type:"warning"},on:{click:t.restartXray}},[t._v("重启")])],1)],1)],1),e("el-form-item",{attrs:{label:"当前节点"}},[e("div",{staticClass:"xray_status"},[t._v(t._s(t.currentnode))])]),e("el-form-item",{attrs:{label:"选择节点"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return e("el-option",{key:t.uuid,attrs:{label:t.nodename,value:t.uuid}})})),1)],1)],1),e("el-row",[e("el-col",{attrs:{span:4,offset:16}},[e("el-button",{attrs:{type:"primary"},on:{click:t.updateConfig}},[t._v("确定执行")])],1)],1)],1)},r=[],l=a(454),n={data(){return{options:[],value:"",xrayStatus:!0,currentnode:""}},methods:{getNodeslist(){(0,l._2)().then((t=>{for(let e in t)this.options=this.options.concat(t[e])}))},updateConfig(){(0,l.rF)({uuid:this.value}).then((t=>{console.log(t)})).finally((()=>{this.getXrayStatus()}))},getXrayStatus(){(0,l.Hk)().then((t=>{this.xrayStatus=t.xrayStatus}))},getCurrentNode(){(0,l.jA)().then((t=>{200==t.status?this.currentnode=t.currentName:this.currentnode="未获取到"}))},stopXray(){(0,l.Qo)(),this.getXrayStatus()},startXray(){(0,l.PZ)(),this.getXrayStatus()},restartXray(){(0,l.cp)(),this.getXrayStatus()}},mounted(){this.getNodeslist(),this.getXrayStatus(),this.getCurrentNode()}},o=n,u=a(1001),i=(0,u.Z)(o,s,r,!1,null,"03e3223f",null),c=i.exports}}]);
//# sourceMappingURL=287.e447339c.js.map